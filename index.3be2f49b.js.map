{"mappings":"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","sources":["node_modules/@swc/helpers/src/_set_prototype_of.mjs","node_modules/@swc/helpers/src/_construct.mjs","node_modules/@swc/helpers/src/_define_property.mjs","node_modules/@swc/helpers/src/_object_spread.mjs","node_modules/@swc/helpers/src/_object_spread_props.mjs","node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/@swc/helpers/src/_array_without_holes.mjs","node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/@swc/helpers/src/_non_iterable_spread.mjs","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/@swc/helpers/src/_to_consumable_array.mjs","node_modules/@swc/helpers/src/_assert_this_initialized.mjs","node_modules/@swc/helpers/src/_class_call_check.mjs","node_modules/@swc/helpers/src/_create_class.mjs","node_modules/@swc/helpers/src/_get_prototype_of.mjs","node_modules/@swc/helpers/src/_super_prop_base.mjs","node_modules/@swc/helpers/src/_get.mjs","node_modules/@swc/helpers/src/_inherits.mjs","node_modules/@swc/helpers/src/_array_with_holes.mjs","node_modules/@swc/helpers/src/_non_iterable_rest.mjs","node_modules/@swc/helpers/src/_sliced_to_array.mjs","node_modules/@swc/helpers/src/_is_native_reflect_construct.mjs","node_modules/@swc/helpers/src/_possible_constructor_return.mjs","node_modules/@swc/helpers/src/_type_of.mjs","node_modules/@swc/helpers/src/_create_super.mjs","src/ColorHelper.js","<<jsx-config-pragma.js>>","src/utils.js","src/buildings/ShadowBuildingDrawer.js","src/buildings/BuildingDrawer.js","src/buildings/BuildingTypes.js","src/buildings/BuildingGenerator.js","src/Canvas.js","src/Sun.js","src/Daytime.js","src/script.js"],"sourcesContent":["function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import _setPrototypeOf from \"./_set_prototype_of.mjs\";\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    construct = Reflect.construct;\n  } else {\n    construct = function construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return construct.apply(null, arguments);\n}\n\nexport default function _construct(Parent, args, Class) {\n  return construct.apply(null, arguments);\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithoutHoles from './_array_without_holes.mjs';\nimport iterableToArray from './_iterable_to_array.mjs';\nimport nonIterableSpread from './_non_iterable_spread.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import getPrototypeOf from './_get_prototype_of.mjs';\n\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n","import superPropBase from './_super_prop_base.mjs';\n\nfunction get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    get = Reflect.get;\n  } else {\n    get = function get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver || target);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return get(target, property, receiver);\n}\n\nexport default function _get(target, property, receiver) {\n  return get(target, property, receiver);\n}\n","import setPrototypeOf from './_set_prototype_of.mjs';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { }));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}","import assertThisInitialized from './_assert_this_initialized.mjs';\nimport _typeof from './_type_of.mjs';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import _isNativeReflectConstruct from \"./_is_native_reflect_construct.mjs\";\nimport _getPrototypeOf from \"./_get_prototype_of.mjs\";\nimport _possibleConstructorReturn from './_possible_constructor_return.mjs';\n\nexport default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _getPrototypeOf(Derived),\n            result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possibleConstructorReturn(this, result);\n    };\n}","export class ColorHelper {\r\n\r\n  darken(h, s, l) {\r\n    return [h, Math.ceil(s * 1.1), Math.ceil(l * 0.9)];\r\n  };\r\n  \r\n  arrToHsl(arr) {\r\n    return `hsl(${arr[0]}, ${arr[1]}%, ${arr[2]}%)`;\r\n  };\r\n\r\n}\r\n",null,"export const gradientBottom = 'hsl(5, 100%, 75%)';\r\n\r\nexport const drawByCoordinates = (ctx, coords) => {\r\n  ctx.beginPath();\r\n\r\n  coords.forEach(([x, y]) => {\r\n    ctx.lineTo(x, y);\r\n  });\r\n\r\n  ctx.stroke();\r\n  ctx.closePath();\r\n  ctx.fill();\r\n};\r\n","import { BuildingDrawer } from './BuildingDrawer';\r\nimport { drawByCoordinates } from '../utils';\r\n\r\nexport class ShadowBuildingDrawer extends BuildingDrawer {\r\n  shadowCoords = [];\r\n\r\n  setShadowCtx(ctx) {\r\n    this.shadowCtx = ctx;\r\n  }\r\n\r\n  setShadowColor(color) {\r\n    this.shadowColor = color;\r\n  }\r\n\r\n  saveBuildingShadow(coords) {\r\n    let y0 = 0;\r\n    const shadowCoords = coords.map(([x, y], i) => {\r\n      if (i === 0 || i === coords.length - 1) {\r\n        y0 = y;\r\n        return [x, y];\r\n      }\r\n      const diff = y0 - y;\r\n      return [x + 20, diff + y0];\r\n    });\r\n    this.shadowCoords.push(shadowCoords);\r\n  }\r\n\r\n  drawOneBuilding(coords) {\r\n    super.drawOneBuilding(coords);\r\n    this.saveBuildingShadow(coords);\r\n  }\r\n\r\n  setShadowOffset(coords, offset) {\r\n    return coords.map(([x, y], i) => {\r\n      if (i === 0 || i === coords.length - 1) {\r\n        return [x, y];\r\n      }\r\n      return [x + offset, y];\r\n    });\r\n  }\r\n\r\n  drawShadows(offset) {\r\n    this.shadowCtx.fillStyle = this.shadowColor;\r\n    this.shadowCtx.strokeStyle = 'transparent';\r\n    this.shadowCoords.forEach((shadowCoords) => {\r\n      const newCoords = this.setShadowOffset(shadowCoords, offset);\r\n      drawByCoordinates(this.shadowCtx, newCoords);\r\n    });\r\n  }\r\n\r\n}\r\n","import { ColorHelper } from '../ColorHelper';\r\nimport { drawByCoordinates } from '../utils';\r\n\r\nexport class BuildingDrawer {\r\n  minWidth = 20;\r\n  offset = { x: 0, y: 250 };\r\n  rowCount = 10;\r\n  color;\r\n\r\n  constructor(context, buildingGenerator) {\r\n    this.ctx = context;\r\n    this.buildingGenerator = buildingGenerator;\r\n    this.colorHelper = new ColorHelper();\r\n  }\r\n\r\n  setInitialColor(color) {\r\n    this.color = color;\r\n  }\r\n\r\n  setOffset(offset) {\r\n    this.offset = offset;\r\n  }\r\n\r\n  setMinWidth(minWidth) {\r\n    this.minWidth = minWidth;\r\n  }\r\n\r\n  getRandomOffsetX(step) {\r\n    return Math.floor(Math.random() * this.minWidth + step * 30);\r\n  }\r\n\r\n  getBuildingParts(coords) {\r\n    const frontSide = coords.map(([x, y]) => [x - 10, y + 5]);\r\n    const asides = frontSide.map(([x, y], i) => {\r\n      return [\r\n        [x, y],\r\n        coords[i],\r\n        coords[i + 1] ? coords[i + 1] : coords[0],\r\n        frontSide[i + 1] ? frontSide[i + 1] : frontSide[0],\r\n      ];\r\n    });\r\n\r\n    return {\r\n      backSide: coords,\r\n      frontSide,\r\n      asides,\r\n    };\r\n  }\r\n\r\n  drawOneBuilding(coords) {\r\n    const { frontSide, asides } = this.getBuildingParts(coords);\r\n\r\n    //draw asides\r\n    this.ctx.fillStyle = this.colorHelper.arrToHsl(\r\n      this.colorHelper.darken(...this.color)\r\n    );\r\n    asides.forEach((rectCoords) => {\r\n      drawByCoordinates(this.ctx, rectCoords);\r\n    });\r\n\r\n    //draw front side\r\n    this.ctx.fillStyle = this.colorHelper.arrToHsl(this.color);\r\n    drawByCoordinates(this.ctx, frontSide);\r\n  }\r\n\r\n  addOffsetToCoords(buildingCoords, offset) {\r\n    const result = [];\r\n    buildingCoords.forEach(([x, y]) => {\r\n      result.push([x + offset.x, y + offset.y]);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  getBuildingType(rowIndex) {\r\n    if (rowIndex > this.rowCount / 3) {\r\n      return Math.floor(Math.random() * 3 + 3); // [3; 5]\r\n    }\r\n    return Math.floor(Math.random() * 5 + 3); // [3; 7]\r\n  }\r\n\r\n  generateRowBuildings(offsetX, rowIndex) {\r\n    const type = this.getBuildingType(rowIndex);\r\n    let buildingCoords = this.buildingGenerator.generateBuilding(type);\r\n\r\n    offsetX += this.getRandomOffsetX(rowIndex);\r\n    buildingCoords = this.addOffsetToCoords(buildingCoords, {\r\n      x: this.offset.x + offsetX,\r\n      y: this.offset.y,\r\n    });\r\n    offsetX += buildingCoords[buildingCoords.length - 1][0] - buildingCoords[0][0];\r\n    return {buildingCoords, offsetX};\r\n  }\r\n\r\n  drawBuildingsRow(rowIndex) {\r\n    this.ctx.strokeStyle = 'transparent';\r\n    let offsetX = 0;\r\n    let buildingCoords;\r\n\r\n    while (offsetX + this.offset.x < window.innerWidth) {\r\n      ({ offsetX, buildingCoords } = this.generateRowBuildings(offsetX, rowIndex));\r\n      this.drawOneBuilding(buildingCoords);\r\n    }\r\n  }\r\n\r\n  drawCity() {\r\n    for (let i = this.rowCount - 1; i >= 0; i--) {\r\n      this.buildingGenerator.setHeight(Math.floor(Math.random() * 12 * i + 30));\r\n      const offsetX = Math.floor(Math.random() * 100 - 200);\r\n      this.setOffset({ x: offsetX, y: this.offset.y + 5 });\r\n      this.drawBuildingsRow(i);\r\n      this.color = this.colorHelper.darken(...this.color);\r\n    }\r\n  }\r\n}\r\n","export class CommonBuilding {\r\n  static sideCount = 3;\r\n  static minWidth;\r\n  static height;\r\n  static startX;\r\n  static startY;\r\n\r\n  static defineStartPos(startX, startY) {\r\n    this.startX = startX;\r\n    this.startY = startY;\r\n  }\r\n\r\n  static defineMinWidth(minWidth) {\r\n    this.minWidth = minWidth;\r\n  }\r\n\r\n  static setHeight(height) {\r\n    this.height = height;\r\n  }\r\n\r\n  static getNextCoordinates(i, x0, y0) {\r\n    return [x0, y0];\r\n  }\r\n\r\n  static generateBuilding() {\r\n    let current = [this.startX, this.startY];\r\n    let coordinates = [current];\r\n    for (let i = 0; i < this.sideCount; i++) {\r\n      current = this.getNextCoordinates(i, ...current);\r\n      coordinates.push(current);\r\n    }\r\n    return coordinates;\r\n  }\r\n}\r\n\r\nexport class Building3Sides extends CommonBuilding {\r\n  static sideCount = 3;\r\n\r\n  static getNextCoordinates(i, x0, y0) {\r\n    let x = Math.floor(Math.random() * 30 + this.minWidth + x0);\r\n    let y = i === this.sideCount - 1 ? this.startY : -Math.floor(Math.random() * 30 + this.height - 30);\r\n\r\n    if (i === 0 || i === this.sideCount - 1) {\r\n      x = x0;\r\n    }\r\n    return [x, y];\r\n  }\r\n}\r\n\r\nexport class Building4Sides extends CommonBuilding {\r\n  static sideCount = 4;\r\n\r\n  static getNextCoordinates(i, x0, y0) {\r\n    //TODO: refactor, make different height\r\n    let x;\r\n    if (i === 1 || i === 2) {\r\n      x = x0 + 20;\r\n    }\r\n\r\n    //TODO: magic numbers\r\n    let y = i === 1 ? y0 - 20 : -Math.floor(Math.random() * 30 + this.height - 30);\r\n\r\n    if (i === 2) {\r\n      y = y0;\r\n    }\r\n\r\n    if (i === this.sideCount - 1) {\r\n      y = this.startY;\r\n    }\r\n\r\n    if (i === 0 || i === this.sideCount - 1) {\r\n      x = x0;\r\n    }\r\n    return [x, y];\r\n  }\r\n}\r\n\r\nexport class Building5Sides extends CommonBuilding {\r\n  static sideCount = 5;\r\n\r\n  static getNextCoordinates(i, x0, y0) {\r\n    let x = Math.floor(Math.random() * 30 + this.minWidth + x0);\r\n    let y = i === this.sideCount - 1 ? this.startY : -Math.floor(Math.random() * 30 + this.height - 30);\r\n\r\n    if (i % 2 === 0) {\r\n      x = x0;\r\n    }\r\n    if (i % 2 === 1) {\r\n      y = y0;\r\n    }\r\n    return [x, y];\r\n  }\r\n}\r\n\r\nexport class Building3SidesWide extends CommonBuilding {\r\n  static sideCount = 3;\r\n\r\n  static getNextCoordinates(i, x0, y0) {\r\n    let x = Math.floor(Math.random() * 30 + 150 + x0);\r\n    let y = i === this.sideCount - 1 ? this.startY : y0;\r\n    if (i === 0) {\r\n      y = -Math.floor(Math.random() * 30 + this.height - 60);\r\n    }\r\n\r\n    if (i === 0 || i === this.sideCount - 1) {\r\n      x = x0;\r\n    }\r\n    return [x, y];\r\n  }\r\n}\r\n\r\nexport class Building5SidesShort extends CommonBuilding {\r\n  static sideCount = 5;\r\n\r\n  static getNextCoordinates(i, x0, y0) {\r\n    let x = x0 + 35;\r\n    let y = i === this.sideCount - 1 ? this.startY : y0 - Math.floor(Math.random() * 30 + this.height);\r\n\r\n    if (i % 2 === 0) {\r\n      x = x0;\r\n    }\r\n    if (i % 2 === 1) {\r\n      y = y0;\r\n    }\r\n    return [x, y];\r\n  }\r\n}\r\n","import {\r\n  Building3Sides,\r\n  Building3SidesWide,\r\n  Building4Sides,\r\n  Building5Sides,\r\n  Building5SidesShort,\r\n  CommonBuilding,\r\n} from './BuildingTypes';\r\n\r\nexport class BuildingGenerator {\r\n  minWidth = 20;\r\n  height = 100;\r\n\r\n  constructor(startX, startY) {\r\n    this.startX = startX;\r\n    this.startY = startY;\r\n  }\r\n\r\n  setHeight(height) {\r\n    this.height = height;\r\n  }\r\n\r\n  generateBuilding(type) {\r\n    CommonBuilding.defineStartPos(this.startX, this.startY);\r\n    CommonBuilding.defineMinWidth(this.minWidth);\r\n    CommonBuilding.setHeight(this.height);\r\n\r\n    switch (type) {\r\n      case 3:\r\n        return Building3Sides.generateBuilding();\r\n      case 4:\r\n        return Building4Sides.generateBuilding();\r\n      case 5:\r\n        return Building5Sides.generateBuilding();\r\n      case 6:\r\n        return Building3SidesWide.generateBuilding();\r\n      case 7:\r\n        return Building5SidesShort.generateBuilding();\r\n      default:\r\n        return Building4Sides.generateBuilding();\r\n    }\r\n  }\r\n}\r\n","import { gradientBottom } from \"./utils\";\r\n\r\nexport default class Canvas {\r\n  constructor(id) {\r\n    this.domCanvas = document.getElementById(id);\r\n    this.domCanvas.width = window.innerWidth;\r\n    this.domCanvas.height = window.innerHeight;\r\n    this.ctx = this.domCanvas.getContext('2d');\r\n  }\r\n\r\n  updateSize() {\r\n    this.domCanvas.width = window.innerWidth;\r\n    this.domCanvas.height = window.innerHeight;\r\n  }\r\n\r\n  setCanvasBackground() {\r\n    const grd = this.ctx.createLinearGradient(0, 0, 0, this.domCanvas.height);\r\n    grd.addColorStop(0, '#80deea');\r\n    grd.addColorStop(0.37, '#ffccbc');\r\n    grd.addColorStop(1, gradientBottom);\r\n    this.ctx.fillStyle = grd;\r\n    this.ctx.fillRect(0, 0, this.domCanvas.width, this.domCanvas.height);\r\n  }\r\n}\r\n","export class Sun {\r\n  constructor(ctx) {\r\n    this.ctx = ctx;\r\n    this.x = 0;\r\n    this.y = 0;\r\n  }\r\n\r\n  setPosition(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  draw() {\r\n    this.ctx.fillStyle = '#ffffe3';\r\n    this.ctx.strokeStyle = '#ffffe3';\r\n\r\n    this.ctx.beginPath();\r\n    this.ctx.arc(this.x, this.y, 25, 0, 2 * Math.PI);\r\n    this.ctx.stroke();\r\n\r\n    this.ctx.shadowColor = \"#fffd9e\";\r\n    this.ctx.shadowBlur = 50;\r\n    this.ctx.fill();\r\n    this.ctx.shadowBlur = 0;\r\n  }\r\n}\r\n","export class Daytime {\r\n  constructor(xMax, yMax) {\r\n    this.xMax = xMax;\r\n    this.yMax = yMax;\r\n    this.radius = Math.round(xMax / 2);\r\n\r\n    let x = Math.round(xMax / 2);\r\n    //by circle formula\r\n    let y = Math.sqrt(this.radius ** 2 - (0 - x) ** 2) - 100 + yMax;\r\n\r\n    //for small screens\r\n    if (xMax < yMax) {\r\n      y = this.radius;\r\n      this.radius += 100;\r\n    }\r\n\r\n    //50 - the sun will be below the top of the screen\r\n    const padding = 50;\r\n    if (this.radius > y - padding) {\r\n      y += this.radius - y + padding;\r\n    }\r\n    this.center = { x, y };\r\n    this.x = 0;\r\n  }\r\n\r\n  setXPosition(x) {\r\n    this.x = x;\r\n  }\r\n\r\n  calculateSunPosition() {\r\n    let y =\r\n      -Math.sqrt(this.radius ** 2 - (this.x - this.center.x) ** 2) +\r\n      this.center.y;\r\n\r\n    if (y > this.yMax / 2) {\r\n      return [];\r\n    }\r\n    return [this.x, y];\r\n  }\r\n\r\n  calculateShadowOffset() {\r\n    return (this.center.x - this.x) * 0.2;\r\n  }\r\n}\r\n","import { ShadowBuildingDrawer } from './buildings/ShadowBuildingDrawer';\r\nimport { BuildingGenerator } from './buildings/BuildingGenerator';\r\nimport Canvas from './Canvas';\r\nimport { gradientBottom } from './utils';\r\nimport { Sun } from './Sun';\r\nimport { Daytime } from './Daytime';\r\n\r\nlet animationFrameId = 0;\r\n\r\nconst startCityAnimation = (buildingDrawer, shadowCanvas) => {\r\n  const width = shadowCanvas.domCanvas.width;\r\n  const height = shadowCanvas.domCanvas.height;\r\n\r\n  let xPosition = height > width ? 0 : 150;\r\n  const sun = new Sun(shadowCanvas.ctx);\r\n  const daytime = new Daytime(width, height);\r\n\r\n  const redrawShadows = () => {\r\n    shadowCanvas.ctx.clearRect(0, 0, width, height);\r\n    shadowCanvas.setCanvasBackground();\r\n\r\n    daytime.setXPosition(xPosition);\r\n    sun.setPosition(...daytime.calculateSunPosition());\r\n    sun.draw();\r\n    const shadowOffset = daytime.calculateShadowOffset();\r\n    buildingDrawer.drawShadows(shadowOffset);\r\n    xPosition++;\r\n    if (xPosition < shadowCanvas.domCanvas.width + 150) {\r\n      animationFrameId = requestAnimationFrame(redrawShadows);\r\n    }\r\n  }\r\n  animationFrameId = requestAnimationFrame(redrawShadows);\r\n}\r\n\r\nconst generate = (cityCanvas, shadowsCanvas) => {\r\n  const startPos = [10, 100];\r\n  const buildingGenerator = new BuildingGenerator(...startPos);\r\n  const buildingDrawer = new ShadowBuildingDrawer(cityCanvas.ctx, buildingGenerator);\r\n  buildingDrawer.setOffset({ ...buildingDrawer.offset, y: cityCanvas.domCanvas.height / 2 });\r\n  buildingDrawer.setShadowCtx(shadowsCanvas.ctx);\r\n  buildingDrawer.setInitialColor([231, 44, 74]);\r\n  buildingDrawer.setShadowColor(gradientBottom);\r\n  buildingDrawer.drawCity();\r\n  \r\n  cancelAnimationFrame(animationFrameId);\r\n  startCityAnimation(buildingDrawer, shadowsCanvas);\r\n};\r\n\r\nconst redraw = (canvas, shadowsCanvas) => {\r\n  canvas.ctx.clearRect(0, 0, canvas.domCanvas.width, canvas.domCanvas.height);\r\n  shadowsCanvas.ctx.clearRect(0, 0, canvas.domCanvas.width, canvas.domCanvas.height);\r\n  generate(canvas, shadowsCanvas);\r\n}\r\n\r\nconst setDebouncedResizeListener = (callback) => {\r\n  let timeout = false;\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(callback, 250);\r\n  });\r\n}\r\n\r\nconst domContentLoaded = () => {\r\n  const shadowsCanvas = new Canvas('shadowsCanvas');\r\n  \r\n  const cityCanvas = new Canvas('cityCanvas');\r\n  redraw(cityCanvas, shadowsCanvas)\r\n\r\n  const generateBtn = document.querySelector('.generate-btn');\r\n  generateBtn.addEventListener('click', () => redraw(cityCanvas, shadowsCanvas));\r\n\r\n  setDebouncedResizeListener(() => {\r\n    shadowsCanvas.updateSize();\r\n    cityCanvas.updateSize();\r\n    redraw(cityCanvas, shadowsCanvas);\r\n  });\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', domContentLoaded);\r\n"],"names":["$d124edd173842a54$var$setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","$d124edd173842a54$export$2e2bcd8739ae039","$58a0974b75dd44f8$var$isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","$58a0974b75dd44f8$var$construct","Parent","args","Class","a","push","apply","instance","Function","bind","arguments","$58a0974b75dd44f8$export$2e2bcd8739ae039","$226fceab3c44ceb8$export$2e2bcd8739ae039","obj","key","value","defineProperty","enumerable","configurable","writable","$e010cad7bf769279$export$2e2bcd8739ae039","target","i","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$a4e0f63d4c9043f5$export$2e2bcd8739ae039","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","symbols","$a4e0f63d4c9043f5$var$ownKeys","$1435731c3e16febe$export$2e2bcd8739ae039","arr","len","arr2","Array","$5e4d7237e9336ce3$export$2e2bcd8739ae039","isArray","$7000e0e6e1cdc281$export$2e2bcd8739ae039","iter","Symbol","iterator","from","$a6c0324e4f0414a8$export$2e2bcd8739ae039","TypeError","$99b3c0f4f7d71b20$export$2e2bcd8739ae039","minLen","n","slice","constructor","name","test","$84b14f3bfcebf524$export$2e2bcd8739ae039","$3c384f010b711a7c$export$2e2bcd8739ae039","self","ReferenceError","$25a4f0a85001a379$export$2e2bcd8739ae039","Constructor","$c7a770d221d77e18$var$_defineProperties","props","descriptor","$c7a770d221d77e18$export$2e2bcd8739ae039","protoProps","staticProps","$6b90968415dc1b01$var$getPrototypeOf","getPrototypeOf","$6b90968415dc1b01$export$2e2bcd8739ae039","$ecebb9f98a1647c8$export$2e2bcd8739ae039","property","hasOwnProperty","$83e45ec02ade0792$var$get","receiver","get","base","desc","$c8245aee5c1952cd$export$2e2bcd8739ae039","subClass","superClass","create","$024f56e099c6b76f$export$2e2bcd8739ae039","$78342587c4df065a$export$2e2bcd8739ae039","$167e7468dd134d99$export$2e2bcd8739ae039","$dbb131441a4993e5$export$2e2bcd8739ae039","Boolean","valueOf","$43c8f25177768eca$export$2e2bcd8739ae039","$92f5fc20a27b224d$export$2e2bcd8739ae039","Derived","hasNativeReflectConstruct","result","Super","NewTarget","this","$8eedc7e8158bee5b$export$a33ddd5b3ba7b208","ColorHelper","h","s","l","Math","ceil","$f109b03f40fb4b24$export$fa810c57f1e84fc9","$f109b03f40fb4b24$export$19569ecf3fea9749","ctx","coords","beginPath","param","x","_param","y","lineTo","stroke","closePath","fill","$03f5a1edcba70493$export$8024efb538d8cb3a","BuildingDrawer","ShadowBuildingDrawer","shadowCtx","color","shadowColor","y0","shadowCoords","map","saveBuildingShadow","offset","fillStyle","strokeStyle","newCoords","_this","setShadowOffset","context","buildingGenerator","colorHelper","minWidth","step","floor","random","frontSide","asides","backSide","_colorHelper","ref","getBuildingParts","arrToHsl","darken","rectCoords","buildingCoords","rowIndex","rowCount","offsetX","type","getBuildingType","generateBuilding","getRandomOffsetX","addOffsetToCoords","window","innerWidth","generateRowBuildings","drawOneBuilding","setHeight","setOffset","drawBuildingsRow","$364e2a01f8402427$export$803a633243d9053a","CommonBuilding","startX","startY","height","x0","current","coordinates","sideCount","getNextCoordinates","$364e2a01f8402427$export$2b82bfd274efb4f6","Building3Sides","$364e2a01f8402427$export$b0290670d1440dd1","Building4Sides","$364e2a01f8402427$export$41946dddce718a9d","Building5Sides","$364e2a01f8402427$export$1d540f8e493cb065","Building3SidesWide","$364e2a01f8402427$export$6d279ca24f5dcfdc","Building5SidesShort","$9c5eee63d0358419$export$53d6f2713bf598f7","BuildingGenerator","defineStartPos","defineMinWidth","$c4dc06b1672e57da$export$2e2bcd8739ae039","Canvas","id","domCanvas","document","getElementById","width","innerHeight","getContext","grd","createLinearGradient","addColorStop","fillRect","$95749df0af144490$export$a059d7a0f1f6fc48","Sun","arc","PI","shadowBlur","$b83051cc1955cce7$export$581423aa6c1d03dc","Daytime","xMax","yMax","radius","round","sqrt","pow","center","$8b0b04aa1305287c$var$animationFrameId","$8b0b04aa1305287c$var$generate","cityCanvas","shadowsCanvas","buildingDrawer","setShadowCtx","setInitialColor","setShadowColor","drawCity","cancelAnimationFrame","shadowCanvas","xPosition","sun","daytime","redrawShadows","_sun","clearRect","setCanvasBackground","setXPosition","setPosition","calculateSunPosition","draw","shadowOffset","calculateShadowOffset","drawShadows","requestAnimationFrame","$8b0b04aa1305287c$var$startCityAnimation","$8b0b04aa1305287c$var$redraw","canvas","addEventListener","callback","timeout","querySelector","updateSize","clearTimeout","setTimeout"],"version":3,"file":"index.3be2f49b.js.map"}